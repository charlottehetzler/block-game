(this["webpackJsonpblock-game"]=this["webpackJsonpblock-game"]||[]).push([[0],{32:function(A,e,t){A.exports={root:"App_root__2Cy1g",app:"App_app__3Slbh"}},50:function(A,e,t){"use strict";t.r(e);var n=t(1),c=t.n(n),o=t(34),r=t.n(o),a=t(11),s=t(13),i=t(52),u=t(7),j=t(10),d=t(8),b=t(35),m=Object(b.a)((function(A){return{texture:"dirt",setTexture:function(e){A((function(A){return{texture:e}}))}}})),O=function(A){return{KeyW:"moveForward",KeyS:"moveBackward",KeyA:"moveLeft",KeyD:"moveRight",Space:"jump"}[A]},l=t(51),f=t(9);Object(s.b)({PointerLockControls:l.a});var p=function(A){var e=Object(s.d)(),t=e.camera,c=e.gl,o=Object(n.useRef)();return Object(n.useEffect)((function(){document.addEventListener("click",(function(){console.log("Lock controls!")}))}),[]),Object(f.jsx)(l.a,Object(d.a)({ref:o,args:[t,c.domElement]},A))},w=function(A){var e=A.position,t=(A.setPosition,Object(s.d)().camera),c=function(){var A=Object(n.useState)({moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1,jump:!1}),e=Object(a.a)(A,2),t=e[0],c=e[1],o=m((function(A){return[A.setTexture]})),r=Object(a.a)(o,1)[0];return Object(n.useEffect)((function(){var A=function(A){O(A.code)&&c((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(j.a)({},O(A.code),!0))}))},e=function(A){O(A.code)&&c((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(j.a)({},O(A.code),!1))}))};return document.addEventListener("keydown",A),document.addEventListener("keyup",e),function(){document.removeEventListener("keydown",A),document.removeEventListener("keyup",e)}}),[r]),t}(),o=c.moveForward,r=c.moveBackward,i=c.moveLeft,b=c.moveRight,l=(c.jump,Object(n.useRef)(e));return Object(s.c)((function(){t.position.copy(new u.Vector3);var A=new u.Vector3(0,0,(r?1:0)-(o?1:0)),e=new u.Vector3((i?1:0)-(b?1:0),0,0);(new u.Vector3).subVectors(A,e).normalize().multiplyScalar(1).applyEuler(t.rotation)})),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p,{}),Object(f.jsx)("mesh",{ref:l})]})},v={1:[{name:"grass-top",texture:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAwUExURU11KlyMMl6RMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANHCLTwAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABVSURBVBjTHU6BDQBBDHEmuJqg7D/ku0/TRhSBjEaxYHHEBF1trpDMZuKCoygHZKmh4TxfBEk/Rj2On71nE5bpowNd0eMX6Gq2gWvzZCCqqpczbUHtB2D+DBm8ApsnAAAAAElFTkSuQmCC"},{name:"grass-side",texture:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAwUExURU8vAFs3AGA6AF5NM011KndHAFyMMl6RMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAODW4M4AAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB1SURBVBjTHcjBDcJADETRIRIFkArwRC6AdJBVYM9sBwuWfI2ildw+FnN681FHeO6FMHPz6n/sXg1mFh6eGCN6En3EUbbPju9oZym9oJ1MvAskwY1PkHqwCTHJyoUzs1AfwhtUdKJcBbyTwjWxsFHlAs0/ceYPxTshgs6zBykAAAAASUVORK5CYII="}],2:[{name:"stone",texture:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAwUExURXJycoCAgJGRkQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEiWYqkAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA/SURBVBjTVY3REQAwBEPTDcQGzf5DthR3zY8ID7AUBldpKFWXI2nPDq1zk4RBOwZdQfO7/AyKzsQTt3rBFYU8OloH9q6yLnsAAAAASUVORK5CYII="}]},x=function(A){var e=A.position,t=A.id,c=Object(n.useRef)(null),o=(new u.TextureLoader).load(function(A){return A in v?v[A][0].texture:v[1][0].texture}(t));return o.magFilter=u.NearestFilter,Object(f.jsxs)("mesh",{ref:c,position:e,receiveShadow:!0,children:[Object(f.jsx)("boxBufferGeometry",{attach:"geometry",args:[1,1,1]}),Object(f.jsx)("meshStandardMaterial",{attach:"material",color:"white",map:o})]})},B=function(){for(var A=[],e=-2;e<2;e++)for(var t=-2;t<2;t++)A.push(Object(f.jsx)(x,{position:new u.Vector3(e,-1,t),id:1},e*t*Math.random()+20*Math.random()));return console.log(A),Object(f.jsx)(f.Fragment,{children:A})},g=t(40),h=t(32),R=t.n(h);var U=function(){var A=Object(n.useState)(new u.Vector3(0,10,0)),e=Object(a.a)(A,2),t=e[0],c=e[1],o=Object(n.useState)(!0),r=Object(a.a)(o,2),j=r[0];return r[1],Object(f.jsxs)(f.Fragment,{children:[j?Object(f.jsx)("div",{id:R.a.dev,children:Object(f.jsx)(g.a,{})}):null,Object(f.jsx)("div",{id:R.a.app,children:Object(f.jsxs)(s.a,{colorManagement:!0,children:[Object(f.jsx)(i.a,{sunPosition:[100,20,100]}),Object(f.jsx)("pointLight",{castShadow:!0,intensity:.7,position:[100,100,100]}),Object(f.jsx)("ambientLight",{intensity:.3}),Object(f.jsx)(B,{}),Object(f.jsx)(w,{position:t,setPosition:c})]})})]})};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(U,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.c22e0912.chunk.js.map